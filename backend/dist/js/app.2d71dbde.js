(function(){"use strict";var e={4278:function(e,t,s){var r=s(9746),a=s(5976),o=s(160),i=s.p+"img/logo.96ab8362.png";const n={id:"app",class:"d-flex flex-column min-vh-100 background-page"},l={class:"navbar navbar-expand-lg navbar-light background-nav"},c={class:"container-fluid"},d=(0,a.Lk)("img",{src:i,alt:"Gluten Hack Logo"},null,-1),u=(0,a.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,a.Lk)("span",{class:"navbar-toggler-icon"})],-1),m={class:"collapse navbar-collapse",id:"navbarNav"},p={class:"navbar-nav ms-auto mb-2 mb-lg-0"},h={key:0,class:"nav-item"},v={key:1,class:"nav-item"},g={key:2,class:"nav-item"},f={key:3,class:"nav-item"},b={key:4,class:"nav-item"},k={key:5,class:"nav-item"},w={class:"container flex-grow-1 mt-4"};function y(e,t,s,r,i,y){const L=(0,a.g2)("router-link"),x=(0,a.g2)("router-view"),$=(0,a.g2)("FooterPage");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("nav",l,[(0,a.Lk)("div",c,[(0,a.bF)(L,{class:"navbar-brand",to:"/"},{default:(0,a.k6)((()=>[d])),_:1}),u,(0,a.Lk)("div",m,[(0,a.Lk)("ul",p,[e.isAuthenticated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("li",h,[(0,a.bF)(L,{to:"/register",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("createAccount")),1)])),_:1})])),e.isAuthenticated?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("li",v,[(0,a.bF)(L,{to:"/login",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("login")),1)])),_:1})])),e.isAuthenticated?((0,a.uX)(),(0,a.CE)("li",g,[(0,a.bF)(L,{to:"/news",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("News")])),_:1})])):(0,a.Q3)("",!0),e.isAuthenticated?((0,a.uX)(),(0,a.CE)("li",f,[(0,a.bF)(L,{to:"/scan",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("Scan")])),_:1})])):(0,a.Q3)("",!0),e.isAuthenticated?((0,a.uX)(),(0,a.CE)("li",b,[(0,a.bF)(L,{to:"/map",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("Carte")])),_:1})])):(0,a.Q3)("",!0),e.isAuthenticated?((0,a.uX)(),(0,a.CE)("li",k,[(0,a.bF)(L,{to:"/profile",class:"nav-link text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("Profil")])),_:1})])):(0,a.Q3)("",!0)])])])]),(0,a.Lk)("div",w,[(0,a.bF)(x)]),(0,a.bF)($)])}var L=s(1449);const x={class:"footer mt-auto py-3 background-footer text-white"},$={class:"text-center mt-4"};function C(e,t,s,r,i,n){const l=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("footer",x,[(0,a.Lk)("div",$,[(0,a.Lk)("p",null,[(0,a.eW)("© 2024 Gluten Hack "),(0,a.bF)(l,{to:"/privacy-policy",class:"text-white"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("policy")),1)])),_:1})])])])}var E={name:"FooterPage"},M=s(1169);const P=(0,M.A)(E,[["render",C]]);var A=P,_={name:"App",components:{FooterPage:A},computed:{...(0,L.aH)(["isAuthenticated"])}};const X=(0,M.A)(_,[["render",y]]);var q=X,z=s(9053),S=s.p+"img/icone.ecbb402f.gif",j=s.p+"img/news_couleur.45fc617a.png",V=s.p+"img/map_couleur.808b59e6.png",T=s.p+"img/scan_couleur.48266b54.png";const I={class:"container mt-5"},F={class:"row"},Q={class:"col-12 col-md-8 offset-md-2 text-center"},B={class:"display-4 text-white"},N=(0,a.Lk)("img",{src:S,alt:"Gluten Hack Logo",height:"400",class:"mb-3"},null,-1),R=(0,a.Fv)('<div class="row mt-4"><div class="col-12 col-md-4 text-center"><img src="'+j+'" alt="Image 1" height="300" class="mb-3"><p class="text-white">Découvrez les dernières actualités sur le gluten ! Nous proposons des articles récents et pertinents mises à jour.</p></div><div class="col-12 col-md-4 text-center"><img src="'+V+'" alt="Image 2" height="300" class="mb-3"><p class="text-white">Envie d&#39;un restaurant sans gluten ? Entrez un lieu pour découvrir des lieux de restauration affichées sur une carte interactive proposant des alternatives au gluten.</p></div><div class="col-12 col-md-4 text-center"><img src="'+T+'" alt="Image 3" height="300" class="mb-3"><p class="text-white">Scannez ou entrez un code-barres pour obtenir des informations sur un produit. Nous vous aidons à vérifier si un article contient des traces de gluten.</p></div></div>',1);function O(e,t,s,r,i,n){return(0,a.uX)(),(0,a.CE)("div",I,[(0,a.Lk)("div",F,[(0,a.Lk)("div",Q,[(0,a.Lk)("h1",B,(0,o.v_)(e.$t("welcome")),1),N])]),R])}s(4114);var U={name:"HomePage",methods:{navigateToRegister(){this.$router.push("/register")}}};const D=(0,M.A)(U,[["render",O]]);var W=D;const G={class:"d-flex justify-content-center align-items-center vh-100 bg-fond text-white rounded mb-4"},J={class:"card p-4 bg-form rounded",style:{width:"400px"}},H=(0,a.Lk)("div",{class:"text-center mb-3"},[(0,a.Lk)("h3",{class:"text-white"},"Créer un compte")],-1),Y={class:"mb-3"},K=(0,a.Lk)("label",{for:"name",class:"form-label text-white"},"Nom",-1),Z={key:0,class:"invalid-feedback"},ee={class:"mb-3"},te=(0,a.Lk)("label",{for:"email",class:"form-label text-white"},"Email",-1),se={key:0,class:"invalid-feedback"},re={class:"mb-3"},ae=(0,a.Lk)("label",{for:"password",class:"form-label text-white"},"Mot de passe",-1),oe={key:0,class:"invalid-feedback"},ie={class:"mb-3"},ne=(0,a.Lk)("label",{for:"confirmPassword",class:"form-label text-white"},"Confirmez le mot de passe",-1),le={key:0,class:"invalid-feedback"},ce={key:0,class:"alert alert-danger",role:"alert"},de={key:1,class:"alert alert-success",role:"alert"},ue={class:"d-grid gap-2 mt-3"},me=["disabled"],pe={class:"text-center mt-3"},he={class:"text-white"};function ve(e,t,s,i,n,l){const c=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",G,[(0,a.Lk)("div",J,[H,(0,a.Lk)("form",{onSubmit:t[8]||(t[8]=(0,r.D$)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,a.Lk)("div",Y,[K,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.name.$error}]),id:"name",placeholder:"Votre nom",onBlur:t[1]||(t[1]=e=>i.v$.name.$touch())},null,34),[[r.Jo,n.name]]),i.v$.name.$error?((0,a.uX)(),(0,a.CE)("div",Z,"Le nom est requis.")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ee,[te,(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>n.email=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.email.$error}]),id:"email",placeholder:"exemple@gmail.com",onBlur:t[3]||(t[3]=e=>i.v$.email.$touch())},null,34),[[r.Jo,n.email]]),i.v$.email.$error?((0,a.uX)(),(0,a.CE)("div",se," L'email doit être valide. ")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",re,[ae,(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[4]||(t[4]=e=>n.password=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.password.$error}]),id:"password",placeholder:"Veuillez saisir votre mot de passe",onBlur:t[5]||(t[5]=e=>i.v$.password.$touch())},null,34),[[r.Jo,n.password]]),i.v$.password.$error?((0,a.uX)(),(0,a.CE)("div",oe,"Le mot de passe doit contenir au moins 8 caractères.")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",ie,[ne,(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>n.confirmPassword=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.confirmPassword.$error}]),id:"confirmPassword",placeholder:"Veuillez saisir à nouveau votre mot de passe",onBlur:t[7]||(t[7]=e=>i.v$.confirmPassword.$touch())},null,34),[[r.Jo,n.confirmPassword]]),i.v$.confirmPassword.$error?((0,a.uX)(),(0,a.CE)("div",le,"Les mots de passe ne correspondent pas.")):(0,a.Q3)("",!0)]),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",ce,(0,o.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),n.successMessage?((0,a.uX)(),(0,a.CE)("div",de,(0,o.v_)(n.successMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",ue,[(0,a.Lk)("button",{type:"submit",class:"btn btn-login rounded text-white",disabled:i.v$.$invalid},"S'inscrire",8,me)])],32),(0,a.Lk)("div",pe,[(0,a.Lk)("span",he,[(0,a.eW)("Vous avez déjà un compte ? "),(0,a.bF)(c,{to:"/login",class:"text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("Se connecter")])),_:1})])])])])}var ge=s(5538),fe=s(5378),be={name:"UserRegister",data(){return{name:"",email:"",password:"",confirmPassword:"",errorMessage:"",successMessage:""}},validations(){return{name:{required:fe.mw},email:{required:fe.mw,email:fe.Rp},password:{required:fe.mw,minLength:(0,fe.Bp)(8)},confirmPassword:{required:fe.mw,sameAsPassword:(0,fe.f4)(this.password)}}},setup(){const e=(0,ge.Ay)();return{v$:e}},methods:{async register(){if(this.errorMessage="",this.successMessage="",this.v$.$touch(),!this.v$.$invalid)try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,email:this.email,password:this.password})}),t=await e.json();e.ok?(this.successMessage="Inscription réussie ! Redirection vers la page de connexion...",setTimeout((()=>{this.$router.push("/login")}),1500)):this.errorMessage=t.message||"L'inscription a échoué. Veuillez vérifier vos informations et réessayer."}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}}}};const ke=(0,M.A)(be,[["render",ve]]);var we=ke;const ye={class:"d-flex justify-content-center align-items-center vh-100 bg-fond text-white rounded mb-4"},Le={class:"card p-4 bg-form rounded",style:{width:"400px"}},xe={class:"text-center mb-3"},$e={class:"text-white"},Ce={class:"mb-3"},Ee=(0,a.Lk)("label",{for:"email",class:"form-label text-white"},"Email",-1),Me={key:0,class:"invalid-feedback"},Pe={class:"mb-3"},Ae={for:"password",class:"form-label text-white"},_e={key:0,class:"invalid-feedback"},Xe={key:0,class:"alert alert-danger",role:"alert"},qe=(0,a.Lk)("div",{class:"d-flex justify-content-between"},[(0,a.Lk)("a",{href:"/reset-password",class:"text-white"},"Vous avez oublié votre mot de passe ?")],-1),ze={class:"d-grid gap-2 mt-3"},Se=["disabled"],je=(0,a.Lk)("div",{class:"text-center mt-3"},[(0,a.Lk)("span",{class:"text-white"},[(0,a.eW)("Vous êtes nouveau ? "),(0,a.Lk)("a",{href:"/register",class:"text-white"},"Créer un compte")])],-1);function Ve(e,t,s,i,n,l){return(0,a.uX)(),(0,a.CE)("div",ye,[(0,a.Lk)("div",Le,[(0,a.Lk)("div",xe,[(0,a.Lk)("h3",$e,(0,o.v_)(e.$t("welcomeForm")),1)]),(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,a.Lk)("div",Ce,[Ee,(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),class:(0,o.C4)(["form-control",{"is-invalid":l.$v.email.$error}]),id:"email",placeholder:"exemple@gmail.com",onBlur:t[1]||(t[1]=e=>l.$v.email.$touch())},null,34),[[r.Jo,n.email]]),l.$v.email.$error?((0,a.uX)(),(0,a.CE)("div",Me,"L'email doit être valide.")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Pe,[(0,a.Lk)("label",Ae,(0,o.v_)(e.$t("password")),1),(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.password=e),class:(0,o.C4)(["form-control",{"is-invalid":l.$v.password.$error}]),id:"password",placeholder:"Veuillez saisir votre mot de passe",onBlur:t[3]||(t[3]=e=>l.$v.password.$touch())},null,34),[[r.Jo,n.password]]),l.$v.password.$error?((0,a.uX)(),(0,a.CE)("div",_e,"Le mot de passe est requis.")):(0,a.Q3)("",!0)]),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",Xe,(0,o.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),qe,(0,a.Lk)("div",ze,[(0,a.Lk)("button",{type:"submit",class:"btn btn-login rounded text-white",disabled:l.$v.$invalid},"S'identifier",8,Se)])],32),je])])}var Te={name:"UserLogin",data(){return{email:"",password:"",errorMessage:""}},validations(){return{email:{required:fe.mw,email:fe.Rp},password:{required:fe.mw}}},setup(){const e=(0,ge.Ay)();return{v$:e}},computed:{$v(){return this.v$}},methods:{async login(){if(this.errorMessage="",this.$v.$touch(),!this.$v.$invalid)try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:this.email,password:this.password})}),t=await e.json();e.ok?(this.$store.dispatch("login"),this.$router.push("/profile")):this.errorMessage=t.message||"Échec de la connexion. Veuillez vérifier votre email et votre mot de passe."}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}}}};const Ie=(0,M.A)(Te,[["render",Ve]]);var Fe=Ie,Qe=s.p+"img/icone.b3133ee3.png";const Be=e=>((0,a.Qi)("data-v-f3c3dc0c"),e=e(),(0,a.jt)(),e),Ne={class:"d-flex justify-content-center align-items-center min-vh-50 bg-fond text-white rounded mb-4"},Re={class:"card p-4 bg-form rounded",style:{width:"400px"}},Oe={class:"text-center mb-3"},Ue=Be((()=>(0,a.Lk)("img",{src:Qe,alt:"Gluten Hack Logo",height:"80",class:"mb-3"},null,-1))),De={class:"text-white"},We={class:"text-center"},Ge={class:"text-center"},Je={key:0,class:"alert alert-danger mt-3"},He={key:1,class:"mt-4"},Ye=Be((()=>(0,a.Lk)("h4",{class:"text-white text-center"},"Vos produits scannés ",-1))),Ke={class:"table custom-table text-white"},Ze=Be((()=>(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",{scope:"col",class:"text-center"},"Produit"),(0,a.Lk)("th",{scope:"col",class:"text-center"},"Gluten")])],-1))),et={class:"text-center"},tt={class:"text-center"},st={class:"text-center mt-3"},rt={key:2,class:"mt-4"},at=Be((()=>(0,a.Lk)("p",{class:"text-center text-white"},"Aucun produit scanné pour l'instant.",-1))),ot=[at];function it(e,t,s,r,i,n){return(0,a.uX)(),(0,a.CE)("div",Ne,[(0,a.Lk)("div",Re,[(0,a.Lk)("div",Oe,[Ue,(0,a.Lk)("h3",De,"Bienvenue "+(0,o.v_)(i.name)+" !",1)]),(0,a.Lk)("div",We,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.logout&&n.logout(...e)),class:"btn btn-color rounded text-white mb-3"},"Se déconnecter")]),(0,a.Lk)("div",Ge,[(0,a.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.deleteAccount&&n.deleteAccount(...e)),class:"btn btn-color rounded text-white"},"Supprimer le compte")]),i.errorMessage?((0,a.uX)(),(0,a.CE)("div",Je,(0,o.v_)(i.errorMessage),1)):(0,a.Q3)("",!0),i.products.length>0?((0,a.uX)(),(0,a.CE)("div",He,[Ye,(0,a.Lk)("table",Ke,[Ze,(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.products,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.id},[(0,a.Lk)("td",et,(0,o.v_)(e.name),1),(0,a.Lk)("td",tt,(0,o.v_)(e.gluten?"Oui":"Non"),1)])))),128))])]),(0,a.Lk)("div",st,[(0,a.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.deleteHistory&&n.deleteHistory(...e)),class:"btn btn-color rounded text-white mb-3"},"Supprimer l'historique")])])):((0,a.uX)(),(0,a.CE)("div",rt,ot))])])}var nt={name:"UserProfile",data(){return{name:"",email:"",errorMessage:"",products:[]}},methods:{async fetchProfile(){try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/profile",{credentials:"include"}),t=await e.json();e.ok?(this.name=t.name,this.email=t.email,this.fetchScannedProducts()):(this.errorMessage=t.message||"Erreur lors de la récupération des informations du profil.",this.$router.push("/login"))}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}},async fetchScannedProducts(){try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/products/user",{credentials:"include"}),t=await e.json();e.ok?this.products=t.products:this.errorMessage="Erreur lors de la récupération des produits."}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur."}},async logout(){try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/logout",{method:"POST",credentials:"include"});e.ok?(this.$store.dispatch("logout"),this.$router.push("/login")):this.errorMessage="Erreur lors de la déconnexion."}catch(e){this.errorMessage="Erreur lors de la déconnexion."}},async deleteAccount(){if(confirm("Êtes-vous sûr de vouloir supprimer votre compte ? Cette action est irréversible."))try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/delete",{method:"DELETE",credentials:"include"});e.ok?(alert("Votre compte a été supprimé avec succès."),this.logout()):this.errorMessage="Erreur lors de la suppression du compte."}catch(e){this.errorMessage="Erreur lors de la suppression du compte."}},async deleteHistory(){if(confirm("Êtes-vous sûr de vouloir supprimer votre historique de produits scannés ?"))try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/products/user",{method:"DELETE",credentials:"include"});e.ok?(alert("Historique supprimé avec succès."),this.products=[]):this.errorMessage="Erreur lors de la suppression de l'historique."}catch(e){this.errorMessage="Erreur lors de la suppression de l'historique."}}},created(){this.fetchProfile()}};const lt=(0,M.A)(nt,[["render",it],["__scopeId","data-v-f3c3dc0c"]]);var ct=lt;const dt={class:"d-flex justify-content-center align-items-center vh-100 bg-fond text-white rounded mb-4"},ut={class:"card p-4 bg-form rounded",style:{width:"400px"}},mt=(0,a.Lk)("div",{class:"text-center mb-3"},[(0,a.Lk)("h3",{class:"text-white"},"Réinitialiser le mot de passe")],-1),pt={class:"mb-3"},ht=(0,a.Lk)("label",{for:"email",class:"form-label text-white"},"Email",-1),vt={key:0,class:"invalid-feedback"},gt={key:0,class:"alert alert-danger",role:"alert"},ft={key:1,class:"alert alert-success",role:"alert"},bt={class:"d-grid gap-2 mt-3"},kt=["disabled"];function wt(e,t,s,i,n,l){return(0,a.uX)(),(0,a.CE)("div",dt,[(0,a.Lk)("div",ut,[mt,(0,a.Lk)("form",{onSubmit:t[2]||(t[2]=(0,r.D$)(((...e)=>l.sendResetLink&&l.sendResetLink(...e)),["prevent"]))},[(0,a.Lk)("div",pt,[ht,(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>n.email=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.email.$error}]),id:"email",placeholder:"exemple@domaine.com",onBlur:t[1]||(t[1]=e=>i.v$.email.$touch())},null,34),[[r.Jo,n.email]]),i.v$.email.$error?((0,a.uX)(),(0,a.CE)("div",vt,"L'email doit être valide.")):(0,a.Q3)("",!0)]),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",gt,(0,o.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),n.successMessage?((0,a.uX)(),(0,a.CE)("div",ft,(0,o.v_)(n.successMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",bt,[(0,a.Lk)("button",{type:"submit",class:"btn btn-login rounded text-white",disabled:i.v$.$invalid},"Réinitialiser le mot de passe",8,kt)])],32)])])}var yt={name:"ResetPassword",data(){return{email:"",errorMessage:"",successMessage:""}},validations(){return{email:{required:fe.mw,email:fe.Rp}}},setup(){const e=(0,ge.Ay)();return{v$:e}},methods:{async sendResetLink(){if(this.errorMessage="",this.successMessage="",this.v$.$touch(),!this.v$.$invalid)try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/send-reset-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email}),credentials:"include"}),t=await e.json();t.success?this.successMessage="Un email de réinitialisation de mot de passe a été envoyé.":this.errorMessage=t.message||"Erreur lors de l'envoi de l'email de réinitialisation."}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}}}};const Lt=(0,M.A)(yt,[["render",wt]]);var xt=Lt;const $t={class:"d-flex justify-content-center align-items-center vh-100 bg-fond text-white rounded mb-4"},Ct={class:"card p-4 bg-form rounded",style:{width:"400px"}},Et=(0,a.Lk)("div",{class:"text-center mb-3"},[(0,a.Lk)("h3",{class:"text-white"},"Réinitialiser le mot de passe")],-1),Mt={class:"mb-3"},Pt=(0,a.Lk)("label",{for:"password",class:"form-label text-white"},"Nouveau mot de passe",-1),At={key:0,class:"invalid-feedback"},_t={class:"mb-3"},Xt=(0,a.Lk)("label",{for:"confirmPassword",class:"form-label text-white"},"Confirmez le mot de passe",-1),qt={key:0,class:"invalid-feedback"},zt={key:0,class:"alert alert-danger",role:"alert"},St={key:1,class:"alert alert-success",role:"alert"},jt={class:"d-grid gap-2 mt-3"},Vt=["disabled"];function Tt(e,t,s,i,n,l){return(0,a.uX)(),(0,a.CE)("div",$t,[(0,a.Lk)("div",Ct,[Et,(0,a.Lk)("form",{onSubmit:t[4]||(t[4]=(0,r.D$)(((...e)=>l.resetPassword&&l.resetPassword(...e)),["prevent"]))},[(0,a.Lk)("div",Mt,[Pt,(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[0]||(t[0]=e=>n.password=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.password.$error}]),id:"password",placeholder:"Veuillez saisir votre nouveau mot de passe",onBlur:t[1]||(t[1]=e=>i.v$.password.$touch())},null,34),[[r.Jo,n.password]]),i.v$.password.$error?((0,a.uX)(),(0,a.CE)("div",At," Le mot de passe doit comporter au minimum 8 caractères. ")):(0,a.Q3)("",!0)]),(0,a.Lk)("div",_t,[Xt,(0,a.bo)((0,a.Lk)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=e=>n.confirmPassword=e),class:(0,o.C4)(["form-control",{"is-invalid":i.v$.confirmPassword.$error}]),id:"confirmPassword",placeholder:"Veuillez saisir à nouveau votre mot de passe",onBlur:t[3]||(t[3]=e=>i.v$.confirmPassword.$touch())},null,34),[[r.Jo,n.confirmPassword]]),i.v$.confirmPassword.$error?((0,a.uX)(),(0,a.CE)("div",qt," Les mots de passe ne correspondent pas. ")):(0,a.Q3)("",!0)]),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",zt,(0,o.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),n.successMessage?((0,a.uX)(),(0,a.CE)("div",St,(0,o.v_)(n.successMessage),1)):(0,a.Q3)("",!0),(0,a.Lk)("div",jt,[(0,a.Lk)("button",{type:"submit",class:"btn btn-login rounded text-white",disabled:i.v$.$invalid},"Réinitialiser le mot de passe",8,Vt)])],32)])])}var It={name:"ResetPasswordForm",data(){return{password:"",confirmPassword:"",errorMessage:"",successMessage:"",token:this.$route.query.token}},validations(){return{password:{required:fe.mw,minLength:(0,fe.Bp)(8)},confirmPassword:{required:fe.mw,sameAsPassword:(0,fe.f4)(this.password)}}},setup(){const e=(0,ge.Ay)();return{v$:e}},methods:{async resetPassword(){if(this.errorMessage="",this.successMessage="",this.v$.$touch(),!this.v$.$invalid)try{const e=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:this.token,newPassword:this.password}),credentials:"include"}),t=await e.json();t.success?(this.successMessage="Mot de passe réinitialisé avec succès. Vous pouvez maintenant vous connecter.",setTimeout((()=>{this.$router.push("/login")}),1500)):this.errorMessage=t.message||"Erreur lors de la réinitialisation du mot de passe."}catch(e){this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}}}};const Ft=(0,M.A)(It,[["render",Tt]]);var Qt=Ft;const Bt={class:"container text-center d-flex flex-column justify-content-center align-items-center",style:{height:"100vh"}},Nt=(0,a.Lk)("div",{class:"d-flex align-items-center mb-4"},[(0,a.Lk)("h1",{class:"text-white"},"Trouver un restaurant")],-1),Rt={class:"d-flex mb-4 align-items-center",style:{width:"100%","max-width":"600px"}},Ot=["disabled"],Ut={key:0,class:"text-danger mb-3"},Dt=(0,a.Fv)('<div class="map-container rounded"><div id="map" class="map-content"></div></div><div class="text-white mt-4"><p>Données fournies par <a href="https://www.yelp.com" target="_blank" class="text-white">Yelp</a> et <a href="https://foursquare.com" target="_blank" class="text-white">Foursquare</a>.</p></div>',2);function Wt(e,t,s,i,n,l){return(0,a.uX)(),(0,a.CE)("div",Bt,[Nt,(0,a.Lk)("div",Rt,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.searchLocation=e),onBlur:t[1]||(t[1]=e=>i.v$.searchLocation.$touch()),type:"text",class:(0,o.C4)(["form-control",{"is-invalid":i.v$.searchLocation.$error}]),placeholder:"Entrez un lieu situé en Belgique (ville, adresse)"},null,34),[[r.Jo,n.searchLocation]]),(0,a.Lk)("button",{class:"btn btn-login rounded text-white",onClick:t[2]||(t[2]=(...e)=>l.searchByLocation&&l.searchByLocation(...e)),disabled:i.v$.searchLocation.$invalid},"Rechercher",8,Ot)]),i.v$.searchLocation.$error?((0,a.uX)(),(0,a.CE)("div",Ut," Veuillez entrer un lieu valide. ")):(0,a.Q3)("",!0),Dt])}var Gt=s(9597),Jt=s.n(Gt),Ht={name:"MapView",data(){return{map:null,defaultCoords:[4.3517,50.8503],searchLocation:"",markers:[]}},validations(){return{searchLocation:{required:fe.mw}}},setup(){return{v$:(0,ge.Ay)()}},mounted(){this.initializeMap()},methods:{initializeMap(){Jt().accessToken="pk.eyJ1IjoibmVrb3ZpYTciLCJhIjoiY2x6cXg0eTc4MWhldDJqcXVncGY2cXlmayJ9.EF3zwBmSnQcSQGs9K6CF-w",this.map=new(Jt().Map)({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:this.defaultCoords,zoom:13}),this.map.on("load",(()=>{this.initializeGeolocation()}))},initializeGeolocation(){navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const{latitude:t,longitude:s}=e.coords;this.map?(this.map.flyTo({center:[s,t],zoom:13}),this.loadRestaurants(s,t)):console.error("Map is not initialized at geolocation success.")}),(e=>{this.handleGeolocationError(e)})):(console.error("Géolocalisation non supportée."),this.loadRestaurants(this.defaultCoords[0],this.defaultCoords[1]))},async searchByLocation(){if(this.v$.$touch(),!this.v$.$invalid)try{this.clearMarkers();const e=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(this.searchLocation)}.json?access_token=${Jt().accessToken}&country=BE`),t=await e.json();if(t.features&&t.features.length>0){const[e,s]=t.features[0].geometry.coordinates;this.map.flyTo({center:[e,s],zoom:13}),await this.loadRestaurants(e,s)}else alert("Lieu introuvable en Belgique, veuillez essayer une autre adresse.")}catch(e){console.error("Erreur lors de la recherche par lieu:",e)}},handleGeolocationError(e){e&&(console.error("Geolocation error:",e.message),alert("Erreur de géolocalisation. Nous utiliserons les coordonnées par défaut pour afficher les restaurants.")),this.loadRestaurants(this.defaultCoords[0],this.defaultCoords[1])},clearMarkers(){this.markers.forEach((e=>e.remove())),this.markers=[]},async loadRestaurants(e,t){await this.loadYelpRestaurants(e,t),await this.loadFoursquareRestaurants(e,t)},async loadYelpRestaurants(e,t){try{const s=await fetch(`https://glutenhack-36877bf08f49.herokuapp.com/api/yelp-restaurants?latitude=${t}&longitude=${e}&term=gluten-free`,{credentials:"include"}),r=await s.json();if(r.businesses&&r.businesses.length>0){const e=r.businesses.map((e=>({name:e.name,address:e.location.address1,latitude:e.coordinates.latitude,longitude:e.coordinates.longitude})));this.addMarkers(e)}else alert("Aucun restaurant sans gluten trouvé pour ce lieu via Yelp.")}catch(s){console.error("Erreur lors de la récupération des restaurants via Yelp:",s)}},async loadFoursquareRestaurants(e,t){try{const s=await fetch(`https://api.foursquare.com/v3/places/search?ll=${t},${e}&categories=13065&query=gluten-free&limit=10`,{headers:{Accept:"application/json",Authorization:"fsq39Mv6b4UhGTfoEXZBt/4gW8EXLlMJX+h+xlc1TM8Pqao="}});if(!s.ok)throw new Error(`Erreur lors de la requête Foursquare: ${s.statusText}`);const r=await s.json();if(r.results&&r.results.length>0){const e=r.results.map((e=>({name:e.name,address:e.location.formatted_address,latitude:e.geocodes.main.latitude,longitude:e.geocodes.main.longitude})));this.addMarkers(e)}else alert("Aucun restaurant sans gluten trouvé via Foursquare pour ce lieu.")}catch(s){console.error("Erreur lors de la récupération des restaurants via Foursquare:",s)}},addMarkers(e){this.map?e.forEach((e=>{const t=`${e.name} ${e.address}`,s=`https://www.google.com/search?q=${encodeURIComponent(t)}`,r=new(Jt().Marker)({color:"red"}).setLngLat([e.longitude,e.latitude]).setPopup(new(Jt().Popup)({offset:25}).setHTML(`<b><a href="${s}" target='_blank'>${e.name}</a></b><br>${e.address}`)).addTo(this.map);this.markers.push(r)})):console.error("Map is not initialized in addMarkers.")}}};const Yt=(0,M.A)(Ht,[["render",Wt]]);var Kt=Yt;const Zt=e=>((0,a.Qi)("data-v-150c91fb"),e=e(),(0,a.jt)(),e),es={class:"container text-center mt-5"},ts=Zt((()=>(0,a.Lk)("h2",{class:"text-white"},"Veuillez entrer ou scanner un code-barres",-1))),ss={class:"row justify-content-center"},rs={class:"col-md-6"},as={class:"input-group mb-3"},os={key:0,class:"invalid-feedback"},is=["disabled"],ns={class:"row justify-content-center"},ls={class:"col-md-6 mt-3"},cs={id:"interactive",class:"viewport"},ds={key:0,id:"barcode-scanner",autoplay:"",playsinline:""},us=["src"],ms={key:0,class:"alert alert-danger mt-3"},ps={key:2,class:"mt-3"},hs={class:"text-white"},vs=["href"],gs={key:0,class:"text-white"},fs=Zt((()=>(0,a.Lk)("a",{href:"https://creativecommons.org/licenses/by-sa/3.0/",target:"_blank",class:"text-white"},"CC BY-SA",-1)));function bs(e,t,s,i,n,l){return(0,a.uX)(),(0,a.CE)("div",es,[ts,(0,a.Lk)("div",ss,[(0,a.Lk)("div",rs,[(0,a.Lk)("div",as,[(0,a.bo)((0,a.Lk)("input",{type:"text",class:(0,o.C4)(["form-control",{"is-invalid":i.v$.barcode.$error}]),placeholder:"Code-barres","onUpdate:modelValue":t[0]||(t[0]=e=>n.barcode=e),onKeypress:t[1]||(t[1]=(...e)=>l.validateInput&&l.validateInput(...e)),onBlur:t[2]||(t[2]=e=>i.v$.barcode.$touch())},null,34),[[r.Jo,n.barcode]])]),i.v$.barcode.$error?((0,a.uX)(),(0,a.CE)("div",os,"Le code-barres est requis et doit être composé uniquement de chiffres.")):(0,a.Q3)("",!0),(0,a.Lk)("button",{class:"btn btn-login rounded text-white",onClick:t[3]||(t[3]=(...e)=>l.submitBarcode&&l.submitBarcode(...e)),disabled:i.v$.barcode.$invalid},"Envoyer",8,is)])]),(0,a.Lk)("div",ns,[(0,a.Lk)("div",ls,[(0,a.Lk)("div",cs,[n.productImage?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("video",ds)),n.productImage?((0,a.uX)(),(0,a.CE)("img",{key:1,src:n.productImage,alt:"Image du produit",class:"img-fluid"},null,8,us)):(0,a.Q3)("",!0)]),(0,a.Lk)("button",{class:"btn btn-login rounded text-white mt-3 mb-3",onClick:t[4]||(t[4]=(...e)=>l.startScanner&&l.startScanner(...e))},"Scanner"),n.errorMessage?((0,a.uX)(),(0,a.CE)("div",ms,(0,o.v_)(n.errorMessage),1)):(0,a.Q3)("",!0),n.glutenMessage?((0,a.uX)(),(0,a.CE)("div",{key:1,class:(0,o.C4)(["alert",n.glutenAlertClass]),"mt-3":""},(0,o.v_)(n.glutenMessage),3)):(0,a.Q3)("",!0),n.productName?((0,a.uX)(),(0,a.CE)("div",ps,[(0,a.Lk)("p",hs,[(0,a.eW)("Données fournies par "),(0,a.Lk)("a",{href:"https://world.openfoodfacts.org/product/"+n.barcode,target:"_blank",class:"text-white"},"Open Food Facts",8,vs),(0,a.eW)(".")]),n.productImage!==n.defaultImage?((0,a.uX)(),(0,a.CE)("p",gs,[(0,a.eW)("Photo sous licence "),fs,(0,a.eW)(".")])):(0,a.Q3)("",!0)])):(0,a.Q3)("",!0)])])])}var ks=s(7717),ws=s.n(ks),ys={name:"ScanView",data(){return{barcode:"",errorMessage:"",glutenMessage:"",glutenAlertClass:"",quaggaInitialized:!1,videoStream:null,productImage:null,productName:"",defaultImage:s(721)}},validations(){return{barcode:{required:fe.mw,numeric:fe.sH}}},setup(){const e=(0,ge.Ay)();return{v$:e}},methods:{validateInput(e){const t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},async submitBarcode(){this.v$.$touch(),this.v$.barcode.$invalid?this.errorMessage="Veuillez entrer un code-barres valide.":(this.productImage=this.defaultImage,this.analyzeBarcode())},startScanner(){this.productImage&&(this.productImage=null),this.productName="",ws().init({inputStream:{name:"Live",type:"LiveStream",target:document.querySelector("#interactive"),constraints:{facingMode:"environment"}},decoder:{readers:["ean_reader","code_128_reader"]}},(e=>{e?console.error(e):(console.log("Scanner initialisé"),ws().start(),ws().onDetected(this.onBarcodeDetected),this.quaggaInitialized=!0)}))},onBarcodeDetected(e){e.codeResult&&e.codeResult.code&&(this.barcode=e.codeResult.code,console.log("Code-barres détecté :",this.barcode),ws().stop(),ws().offDetected(this.onBarcodeDetected),this.productImage=this.defaultImage,this.analyzeBarcode())},async analyzeBarcode(){this.errorMessage="",this.glutenMessage="",this.glutenAlertClass="";try{const e=await fetch(`https://world.openfoodfacts.org/api/v0/product/${this.barcode}.json`),t=await e.json();if(1===t.status){this.productName=t.product.product_name||"Produit";const e=t.product.ingredients_text?.toLowerCase(),s=["gluten","wheat","barley","rye","oats","triticale","malt","wheat flour","whole wheat","enriched wheat","wheat starch","wheat germ","wheat bran","durum","semolina","spelt","farro","einkorn","kamut","barley malt","barley flour","barley extract","barley grass","barley flakes","rye flour","rye bread","rye beer","oats","oat bran","oat flour","oatmeal","malt extract","malt syrup","malt flavoring","malt vinegar","maltodextrin","triticale","emmer","freekeh","bulgur","graham flour","hydrolyzed wheat protein","textured vegetable protein (TVP)","modified wheat starch","miso","soy sauce","brewer’s yeast","couscous","beer","ale","lager","stout","porter","brewers yeast","distilled spirits","whiskey","vodka (à base de blé ou d’orge)","amidon de blé","extrait de malt","fécule de blé","son de blé","farine de blé","épeautre","seigle","orge","avoine","froment","triticale","épeautre","panko","farro","seitan","vital wheat gluten","tempeh (à base de blé)"],r=e&&s.some((t=>e.includes(t)));this.glutenMessage=r?`${this.productName} : Ce produit semble contenir du gluten.`:`${this.productName} : Ce produit ne semble pas contenir de gluten.`,this.glutenAlertClass=r?"alert-danger":"alert-success",this.productImage=t.product.image_url||this.defaultImage,this.saveProductToDatabase(t.product.product_name,this.barcode,r)}else this.errorMessage="Produit non trouvé."}catch(e){console.error("Erreur lors de la récupération des données :",e),this.errorMessage="Erreur lors de la récupération des données."}},async saveProductToDatabase(e,t,s){try{const r=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/products/add",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:e,barcode:t,gluten:s})});r.ok&&console.log("Produit ajouté avec succès")}catch(r){console.error("Erreur lors de l'ajout du produit à la base de données :",r)}}},beforeUnmount(){this.videoStream&&this.videoStream.getTracks().forEach((e=>e.stop())),this.quaggaInitialized&&(ws().stop(),ws().offDetected(this.onBarcodeDetected))}};const Ls=(0,M.A)(ys,[["render",bs],["__scopeId","data-v-150c91fb"]]);var xs=Ls;const $s={class:"text-center"},Cs=(0,a.Lk)("h1",{class:"display-1"},"404",-1),Es=(0,a.Lk)("p",{class:"lead"},"Oops! The page you're looking for doesn't exist.",-1);function Ms(e,t,s,r,o,i){const n=(0,a.g2)("router-link");return(0,a.uX)(),(0,a.CE)("div",$s,[Cs,Es,(0,a.bF)(n,{to:"/",class:"btn btn-login rounded text-white"},{default:(0,a.k6)((()=>[(0,a.eW)("Go Back Home")])),_:1})])}var Ps={name:"NotFound"};const As=(0,M.A)(Ps,[["render",Ms]]);var _s=As;const Xs={class:"container mt-5"},qs=(0,a.Fv)('<h1 class="text-center text-white mb-4">Politique de Confidentialité</h1><div class="text-white"><p> Chez Gluten Hack, nous prenons votre vie privée très au sérieux. Cette politique de confidentialité explique quelles informations nous collectons, comment nous les utilisons et comment nous les protégeons. </p><h3>1. Informations que nous collectons</h3><p> Nous collectons les informations que vous nous fournissez directement, comme lorsque vous créez un compte, remplissez un formulaire ou nous contactez. </p><h3>2. Comment nous utilisons vos informations</h3><p> Nous utilisons vos informations pour vous fournir nos services, améliorer notre site, et vous envoyer des communications pertinentes. </p><h3>3. Partage de vos informations</h3><p> Nous ne partageons pas vos informations personnelles avec des tiers sans votre consentement, sauf si requis par la loi. </p><h3>4. Vos droits</h3><p> Vous avez le droit d&#39;accéder ou de supprimer vos informations personnelles à tout moment. </p><h3>5. Sécurité</h3><p> Nous prenons des mesures raisonnables pour protéger vos informations personnelles contre tout accès non autorisé ou divulgation. </p><h3>6. Modifications de cette politique</h3><p> Nous nous réservons le droit de mettre à jour cette politique de confidentialité à tout moment. Nous vous informerons de tout changement important. </p></div>',2),zs=[qs];function Ss(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)("div",Xs,zs)}var js={name:"PrivacyPolicy"};const Vs=(0,M.A)(js,[["render",Ss]]);var Ts=Vs;const Is=e=>((0,a.Qi)("data-v-6abfd662"),e=e(),(0,a.jt)(),e),Fs={class:"container-fluid text-center mt-5"},Qs=Is((()=>(0,a.Lk)("h2",{class:"text-white mb-4"},"Dernières infos sur le gluten",-1))),Bs={key:0,class:"text-white"},Ns=Is((()=>(0,a.Lk)("p",null,"Chargement des informations...",-1))),Rs=[Ns],Os={key:1},Us={key:0,class:"alert alert-danger"},Ds={key:1,class:"row"},Ws={class:"card h-100"},Gs=["src"],Js={class:"card-body text-white"},Hs={class:"card-title"},Ys={class:"card-text"},Ks={class:"card-footer text-center"},Zs=["href"],er={key:2},tr=Is((()=>(0,a.Lk)("p",{class:"text-white"},"Aucune information disponible pour le moment.",-1))),sr=[tr],rr=Is((()=>(0,a.Lk)("p",{class:"text-white mt-4"},[(0,a.eW)("Données fournies par "),(0,a.Lk)("a",{href:"https://mediastack.com",target:"_blank",class:"text-white"},"Mediastack API"),(0,a.eW)(".")],-1)));function ar(e,t,s,r,i,n){return(0,a.uX)(),(0,a.CE)("div",Fs,[Qs,i.loading?((0,a.uX)(),(0,a.CE)("div",Bs,Rs)):((0,a.uX)(),(0,a.CE)("div",Os,[i.errorMessage?((0,a.uX)(),(0,a.CE)("div",Us,(0,o.v_)(i.errorMessage),1)):(0,a.Q3)("",!0),i.articles.length>0?((0,a.uX)(),(0,a.CE)("div",Ds,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.articles,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"col-md-4 col-sm-6 mb-4",key:e.url},[(0,a.Lk)("div",Ws,[e.image?((0,a.uX)(),(0,a.CE)("img",{key:0,src:e.image,class:"card-img-top",alt:"Article Image"},null,8,Gs)):(0,a.Q3)("",!0),(0,a.Lk)("div",Js,[(0,a.Lk)("h5",Hs,(0,o.v_)(e.title),1),(0,a.Lk)("p",Ys,(0,o.v_)(e.description),1)]),(0,a.Lk)("div",Ks,[(0,a.Lk)("a",{href:e.url,class:"btn btn-login text-white",target:"_blank"},"Lire l'article",8,Zs)])])])))),128))])):((0,a.uX)(),(0,a.CE)("div",er,sr)),rr]))])}var or={name:"NewView",data(){return{articles:[],loading:!0,errorMessage:""}},methods:{async fetchGlutenNews(){try{const e=await fetch("https://api.mediastack.com/v1/news?access_key=daf192ef64b2827d607fbf0ffa058116&keywords=gluten&limit=6&sort=published_desc");if(!e.ok)throw new Error("Erreur lors de la récupération des informations");const t=await e.json(),s=t.data.filter(((e,t,s)=>t===s.findIndex((t=>t.url===e.url))));this.articles=s,this.loading=!1}catch(e){this.errorMessage=e.message,this.loading=!1}}},created(){this.fetchGlutenNews()}};const ir=(0,M.A)(or,[["render",ar],["__scopeId","data-v-6abfd662"]]);var nr=ir;const lr=(0,L.y$)({state:{isAuthenticated:!1},mutations:{setAuthenticated(e,t){e.isAuthenticated=t}},actions:{login({commit:e}){e("setAuthenticated",!0)},logout({commit:e}){e("setAuthenticated",!1)},async checkAuthentication({commit:e}){try{const t=await fetch("https://glutenhack-36877bf08f49.herokuapp.com/users/check-auth",{method:"GET",credentials:"include"});t.ok?e("setAuthenticated",!0):e("setAuthenticated",!1)}catch(t){e("setAuthenticated",!1),console.error("Failed to check authentication:",t)}}},getters:{isAuthenticated:e=>e.isAuthenticated}});var cr=lr;const dr=[{path:"/",name:"HomePage",component:W},{path:"/privacy-policy",name:"PrivacyPolicy",component:Ts},{path:"/register",name:"UserRegister",component:we},{path:"/login",name:"UserLogin",component:Fe},{path:"/profile",name:"UserProfile",component:ct,meta:{requiresAuth:!0}},{path:"/reset-password",name:"ResetPassword",component:xt},{path:"/reset-password-form",component:Qt},{path:"/map",name:"Map",component:Kt,meta:{requiresAuth:!0}},{path:"/scan",name:"ScanView",component:xs,meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:_s},{path:"/news",name:"NewsView",component:nr,meta:{requiresAuth:!0}}],ur=(0,z.aE)({history:(0,z.LA)("/"),routes:dr});ur.beforeEach((async(e,t,s)=>{if(e.matched.some((e=>e.meta.requiresAuth))){await cr.dispatch("checkAuthentication");const e=cr.getters.isAuthenticated;e?s():s("/login")}else s()}));var mr=ur,pr=s(3782);const hr={en:{welcome:"Welcome to Gluten Hack",restaurantMenu:"Restaurant Menu",createAccount:"Create Account",login:"Login",policy:"Policy",welcomeForm:"Welcome back !",password:"Password"},fr:{welcome:"Bienvenue sur Gluten Hack",restaurantMenu:"Carte restaurant",createAccount:"Créer un compte",login:"Connexion",policy:"Politique",welcomeForm:"Te revoilà !",password:"Mot de passe"}},vr=(0,pr.hU)({locale:"fr",messages:hr});var gr=vr;s(6099),s(3178);(0,r.Ef)(q).use(mr).use(cr).use(gr).mount("#app")},721:function(e,t,s){e.exports=s.p+"img/scan.1e64330f.gif"}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,o){if(!r){var i=1/0;for(d=0;d<e.length;d++){r=e[d][0],a=e[d][1],o=e[d][2];for(var n=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],n=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(l)var d=l(s)}for(t&&t(r);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self["webpackChunkgluten_hack_frontend"]=self["webpackChunkgluten_hack_frontend"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(4278)}));r=s.O(r)})();
//# sourceMappingURL=app.2d71dbde.js.map